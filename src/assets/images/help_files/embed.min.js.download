/**
 * crisp-go - Crisp Go
 * @version v2.0.6
 * @author Crisp IM SARL https://crisp.chat/
 * @date 11/10/2021
 */
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,r){for(var a=0;a<r.length;a++){var t=r[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,a,t){return a&&e(r.prototype,a),t&&e(r,t),r}}(),ChatEmbed=function(){function e(){_classCallCheck(this,e);var r="constructor";try{this.ns="ChatEmbed",this.__$=$,this._document_sel=this.__$(document),this.__url_client="https://client.crisp.chat",this.__embed_timeout=500}catch(a){Console.error(this.ns+"."+r,a)}}return _createClass(e,[{key:"init",value:function(){var e="init";try{this.__acquire_url_parameters()}catch(r){Console.error(this.ns+"."+e,r)}}},{key:"__acquire_url_parameters",value:function(){var e=this,r="__acquire_url_parameters";try{Console.debug(this.ns+"."+r,"Acquiring URL parameters..."),this._url_parameters=querystring.parse(),this._url_parameters.website_id?void 0!==this._url_parameters.no_delay?(this.__$(".wrapper").remove(),this.__handle_acquired_url_parameters()):setTimeout(function(){e.__handle_acquired_url_parameters()},this.__embed_timeout):Console.warn(this.ns+"."+r,"Invalid URL parameters")}catch(a){Console.error(this.ns+"."+r,a)}}},{key:"__handle_acquired_url_parameters",value:function(){var e="__handle_acquired_url_parameters";try{var r=this;Console.info(this.ns+"."+e,"Acquired URL parameters"),window.$crisp=[],window.CRISP_WEBSITE_ID=this._url_parameters.website_id,this._url_parameters.token_id&&(window.CRISP_TOKEN_ID=this._url_parameters.token_id),window.CRISP_READY_TRIGGER=function(){r._url_parameters.user_email&&window.$crisp.set("user:email",r._url_parameters.user_email),r._url_parameters.user_phone&&window.$crisp.set("user:phone",r._url_parameters.user_phone),r._url_parameters.user_nickname&&window.$crisp.set("user:nickname",r._url_parameters.user_nickname),r._url_parameters.user_avatar&&window.$crisp.set("user:avatar",r._url_parameters.user_avatar)},window.CRISP_RUNTIME_CONFIG={lock_maximized:!0,lock_full_view:!0,cross_origin_cookies:!0},this._url_parameters.locale&&(window.CRISP_RUNTIME_CONFIG.locale=this._url_parameters.locale),this._url_parameters.session_merge&&(window.CRISP_RUNTIME_CONFIG.session_merge="true"===this._url_parameters.session_merge);var a=document,t=a.createElement("script");t.src=this.__url_client+"/l.js",t.async=1,a.getElementsByTagName("head")[0].appendChild(t)}catch(s){Console.error(this.ns+"."+e,s)}}}]),e}();window.ChatEmbed=new ChatEmbed,window.ChatEmbed._document_sel.ready(function(){window.ChatEmbed.init()});