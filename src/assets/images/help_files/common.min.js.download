/**
 * crisp-go - Crisp Go
 * @version v2.0.6
 * @author Crisp IM SARL https://crisp.chat/
 * @date 11/10/2021
 */
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),Common=function(){function e(){_classCallCheck(this,e);var t="constructor";try{this.ns="Common",this.__$=$,this._document_sel=this.__$(document),this.__api_version="v1",this.__api_request_temporize_delay=1e3,this.__api_request_temporize_methods=["POST","PUT","PATCH","DELETE"],this.__url_api="https://api.crisp.chat",this.__environment="production",this.__project_name="crisp-go",this.__revision="041308b",this.__browser_useragent=window.navigator.userAgent,this.__page_url=document.location.href}catch(o){Console.error(this.ns+"."+t,o)}}return _createClass(e,[{key:"init",value:function(){var e="init";try{this.__configure_console_sink()}catch(t){Console.error(this.ns+"."+e,t)}}},{key:"switch_result",value:function(e){var t="switch_result";try{this.__$(".common-load-icons-one, .common-load-texts-one").attr("data-visible","false"),this.__$('.common-load-icons-one[data-type="'+e+'"]').attr("data-visible","true").addClass("animated zoomIn"),this.__$('.common-load-texts-one[data-type="'+e+'"]').attr("data-visible","true")}catch(o){Console.error(this.ns+"."+t,o)}}},{key:"send_api_data",value:function(e,t,o){var n=this,i="send_api_data";try{if(!e.method||!e.route)throw new Error("Missing parameters");var s=new XMLHttpRequest;s.open(e.method,this.__url_api+"/"+this.__api_version+"/"+e.route,!0),s.onreadystatechange=function(){if(4===s.readyState){var i=s.responseText;"application/json"===s.getResponseHeader("content-type")&&(i=JSON.parse(i||"{}")),setTimeout(function(){s.status>=200&&s.status<300?"function"==typeof t&&t(i,s.status):"function"==typeof o&&o(i,s.status)},n.__api_request_temporize_methods.indexOf(e.method)!==-1?n.__api_request_temporize_delay:0)}},e.authorization&&s.setRequestHeader("Authorization","Basic "+btoa(e.authorization.username+":"+e.authorization.password)),"object"===_typeof(e.data)?(s.setRequestHeader("Content-Type","application/json"),s.send(JSON.stringify(e.data))):e.data?s.send(e.data):s.send()}catch(r){Console.error(this.ns+"."+i,r)}}},{key:"__configure_console_sink",value:function(){var e=this,t="__configure_console_sink";try{"production"===this.__environment?Console.set_log_sink(function(t,o,n){if("error"===t){var i=n;"object"===("undefined"==typeof i?"undefined":_typeof(i))&&i instanceof Error&&(i={fileName:i.fileName,lineNumber:i.lineNumber,columnNumber:i.columnNumber,message:i.message,stack:i.stack}),e.send_api_data({method:"POST",route:"_system/issue/report",data:{project:e.__project_name,revision:e.__revision,environment:e.__environment,useragent:e.__browser_useragent,page:e.__page_url,level:t,traceback:i}})}}):Console.warn(this.ns+"."+t,"Console sink is disabled in "+this.__environment+" environment")}catch(o){Console.error(this.ns+"."+t,o)}}}]),e}();window.Common=new Common,window.Common._document_sel.ready(function(){window.Common.init()});